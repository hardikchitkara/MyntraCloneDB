{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Win10/Desktop/MymyntraFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:/Users/Win10/Desktop/MymyntraFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Win10/Desktop/MymyntraFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Win10/Desktop/MymyntraFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from\"react-router-dom\";import\"./maincomponent.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Maincomponent=function Maincomponent(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allshirts=_useState2[0],setallshirts=_useState2[1];var loadItems=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var track,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// let loginUid=props.senduid;\n// console.log(loginUid);\nconsole.log(\"items component mounted with data\");_context.next=3;return fetch(\"/items\");case 3:track=_context.sent;console.log(track);_context.next=7;return track.json();case 7:json=_context.sent;console.log(json);// console.log(props.uid);\nsetallshirts(json);case 10:case\"end\":return _context.stop();}}},_callee);}));return function loadItems(){return _ref.apply(this,arguments);};}();useEffect(function(){loadItems();},[]);useEffect(function(){props.receiveItemsLength(allshirts.length);},[allshirts]);function checkingprices(p1,p2){for(var i=0;i<p1.length;i++){if(parseInt(p1[i].split(',')[0])<=parseInt(p2)&&parseInt(p2)<=parseInt(p1[i].split(',')[1])){return true;}}return false;}var shirtstodisplay=[];if(props.sendstringdata.length==0){shirtstodisplay=allshirts;}else{var strToCompare=props.sendstringdata.toLowerCase();shirtstodisplay=allshirts.filter(function(el){if(el.filter.toString().toLowerCase().includes(strToCompare)||el.brand.toString().toLowerCase().includes(strToCompare)||el.price.toString().toLowerCase().includes(strToCompare)||el.discount.toString().toLowerCase().includes(strToCompare)){return true;}return false;});}shirtstodisplay=shirtstodisplay.filter(function(el){if((props.sendsexdata.length==0||props.sendsexdata.includes(el.sex))&&(props.sendbranddata.length==0||props.sendbranddata.includes(el.brand))&&(props.sendcolordata.length==0||props.sendcolordata.includes(el.color))&&(props.senddiscountrangedata.length==0||Math.max.apply(Math,_toConsumableArray(props.senddiscountrangedata.map(function(i){return Number(i);})))<=parseInt(el.discount))&&(props.sendpricedata.length==0||checkingprices(props.sendpricedata,el.price))){return true;}});if(props.sendsortingchoice==\"choi5\"){shirtstodisplay.sort(function(a,b){return a.price-b.price;});}else if(props.sendsortingchoice==\"choi4\"){shirtstodisplay.sort(function(a,b){return b.price-a.price;});}else if(props.sendsortingchoice==\"choi3\"){shirtstodisplay.sort(function(a,b){return b.discount-a.discount;});}return/*#__PURE__*/_jsx(\"div\",{className:\"alltickets\",children:shirtstodisplay.map(function(el){return/*#__PURE__*/_jsx(Link,{to:{pathname:\"/details\",state:[{filter:el.filter,brand:el.brand,price:el.price,discount:el.discount,color:el.color,imgurl:el.imgurl,sex:el.sex,itemid:el.itemid,uid:props.senduid}]},style:{textDecoration:'none',color:'black'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"ticket\",children:[/*#__PURE__*/_jsx(\"img\",{src:el.imgurl}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"h3\",{class:\"product-brand\",children:el.brand}),/*#__PURE__*/_jsx(\"h4\",{class:\"product-product\",children:el.filter}),/*#__PURE__*/_jsxs(\"span\",{class:\"product-discountedPrice\",children:[\"Rs. \",el.price]}),/*#__PURE__*/_jsxs(\"span\",{class:\"product-discountPercentage\",children:[\"(\",el.discount,\"% OFF)\"]})]})]})});})});};export default Maincomponent;","map":{"version":3,"names":["React","useState","useEffect","Link","Maincomponent","props","allshirts","setallshirts","loadItems","console","log","fetch","track","json","receiveItemsLength","length","checkingprices","p1","p2","i","parseInt","split","shirtstodisplay","sendstringdata","strToCompare","toLowerCase","filter","el","toString","includes","brand","price","discount","sendsexdata","sex","sendbranddata","sendcolordata","color","senddiscountrangedata","Math","max","map","Number","sendpricedata","sendsortingchoice","sort","a","b","pathname","state","imgurl","itemid","uid","senduid","textDecoration"],"sources":["C:/Users/Win10/Desktop/MymyntraFrontend/src/maincomponent.jsx"],"sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./maincomponent.css\"\r\n\r\nconst Maincomponent=(props)=>{\r\n  const [allshirts, setallshirts] = useState([]);\r\n  \r\n  const loadItems=async()=>{\r\n      // let loginUid=props.senduid;\r\n      // console.log(loginUid);\r\n    console.log(\"items component mounted with data\");\r\n    let track=await fetch(\"/items\",);\r\n    console.log(track);\r\n    let json=await track.json();\r\n    console.log(json);\r\n    // console.log(props.uid);\r\n    setallshirts(json);  \r\n  }\r\n\r\nuseEffect(()=>{\r\n   loadItems();\r\n},[]);\r\nuseEffect(()=>{\r\n  props.receiveItemsLength(allshirts.length);\r\n},[allshirts]);\r\n\r\n\r\n  function checkingprices(p1,p2){\r\n    for(let i=0;i<p1.length;i++)\r\n    {\r\n      if(parseInt(p1[i].split(',')[0])<=parseInt(p2) && parseInt(p2)<=parseInt(p1[i].split(',')[1])) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  let shirtstodisplay=[];\r\n  if (props.sendstringdata.length==0) {\r\n    shirtstodisplay=allshirts;\r\n  }\r\n  else{\r\n    let strToCompare = props.sendstringdata.toLowerCase();\r\n    shirtstodisplay = allshirts.filter((el) => {\r\n      if(\r\n        el.filter.toString().toLowerCase().includes(strToCompare) || \r\n        el.brand.toString().toLowerCase().includes(strToCompare) || \r\n        el.price.toString().toLowerCase().includes(strToCompare) || \r\n        el.discount.toString().toLowerCase().includes(strToCompare)\r\n      )\r\n      {\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n  }\r\n    shirtstodisplay = shirtstodisplay.filter((el) => {\r\n    if(\r\n      (props.sendsexdata.length==0 || props.sendsexdata.includes(el.sex))\r\n      &&(props.sendbranddata.length==0 || props.sendbranddata.includes(el.brand))\r\n      &&(props.sendcolordata.length==0 || props.sendcolordata.includes(el.color))\r\n      &&(props.senddiscountrangedata.length==0 || Math.max(...props.senddiscountrangedata.map((i)=>Number(i)))<=parseInt(el.discount) )\r\n      &&(props.sendpricedata.length==0 || checkingprices(props.sendpricedata,el.price))\r\n      )\r\n      {\r\n          return true;\r\n      }\r\n    });\r\n    if(props.sendsortingchoice==\"choi5\")\r\n    {\r\n        shirtstodisplay.sort(function(a,b){\r\n          return a.price-b.price;\r\n        })\r\n    }\r\n    else if(props.sendsortingchoice==\"choi4\")\r\n    {\r\n      shirtstodisplay.sort(function(a,b){\r\n        return b.price-a.price;\r\n      })\r\n    }\r\n    else if(props.sendsortingchoice==\"choi3\")\r\n    {\r\n      shirtstodisplay.sort(function(a,b){\r\n        return b.discount-a.discount;\r\n      })\r\n    }\r\n    \r\n  return(    \r\n    \r\n        <div className=\"alltickets\">\r\n          {\r\n            \r\n          shirtstodisplay.map((el)=>{\r\n            \r\n              return (\r\n                \r\n                <Link\r\n                to={{pathname:\"/details\",state:[{ \r\n                  filter: el.filter,\r\n                  brand: el.brand,\r\n                  price: el.price,\r\n                  discount:el.discount,\r\n                  color: el.color,\r\n                  imgurl:el.imgurl,\r\n                  sex: el.sex,\r\n                  itemid:el.itemid,\r\n                  uid:props.senduid,\r\n                }]}}\r\n                style={{ textDecoration: 'none' ,color:'black'}} >\r\n\r\n                  <div className=\"ticket\" >\r\n                    <img src={el.imgurl}></img>\r\n\r\n                    {/* <div  id=\"idofwish\" onClick={()=>{\r\n                      alert(\"Wishlist is just for UI as it requires login\");\r\n                    }}>WishList</div> */}\r\n                    \r\n                    <div className=\"product-details\">\r\n                        <h3 class=\"product-brand\">{el.brand}</h3>\r\n                        <h4 class=\"product-product\">{el.filter}</h4>\r\n                        <span class=\"product-discountedPrice\">Rs. {el.price}</span>\r\n                        <span class=\"product-discountPercentage\">({el.discount}% OFF)</span>\r\n                    </div>\r\n                  </div>\r\n                </Link>\r\n              )\r\n            }\r\n          )\r\n          \r\n          }\r\n      </div>\r\n    )\r\n    \r\n}\r\nexport default Maincomponent;\r\n"],"mappings":"6nBAAA,MAAOA,MAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,qBAAP,C,wFAEA,GAAMC,cAAa,CAAC,QAAdA,cAAc,CAACC,KAAD,CAAS,CAC3B,cAAkCJ,QAAQ,CAAC,EAAD,CAA1C,wCAAOK,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,UAAS,0FAAC,kJACZ;AACA;AACFC,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAHc,sBAIEC,MAAK,CAAC,QAAD,CAJP,QAIVC,KAJU,eAKdH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EALc,sBAMCA,MAAK,CAACC,IAAN,EAND,QAMVA,IANU,eAOdJ,OAAO,CAACC,GAAR,CAAYG,IAAZ,EACA;AACAN,YAAY,CAACM,IAAD,CAAZ,CATc,uDAAD,kBAATL,UAAS,0CAAf,CAYFN,SAAS,CAAC,UAAI,CACXM,SAAS,GACX,CAFQ,CAEP,EAFO,CAAT,CAGAN,SAAS,CAAC,UAAI,CACZG,KAAK,CAACS,kBAAN,CAAyBR,SAAS,CAACS,MAAnC,EACD,CAFQ,CAEP,CAACT,SAAD,CAFO,CAAT,CAKE,QAASU,eAAT,CAAwBC,EAAxB,CAA2BC,EAA3B,CAA8B,CAC5B,IAAI,GAAIC,EAAC,CAAC,CAAV,CAAYA,CAAC,CAACF,EAAE,CAACF,MAAjB,CAAwBI,CAAC,EAAzB,CACA,CACE,GAAGC,QAAQ,CAACH,EAAE,CAACE,CAAD,CAAF,CAAME,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAR,EAA+BD,QAAQ,CAACF,EAAD,CAAvC,EAA+CE,QAAQ,CAACF,EAAD,CAAR,EAAcE,QAAQ,CAACH,EAAE,CAACE,CAAD,CAAF,CAAME,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAxE,CAA+F,CAC7F,MAAO,KAAP,CACD,CACF,CACD,MAAO,MAAP,CACD,CAED,GAAIC,gBAAe,CAAC,EAApB,CACA,GAAIjB,KAAK,CAACkB,cAAN,CAAqBR,MAArB,EAA6B,CAAjC,CAAoC,CAClCO,eAAe,CAAChB,SAAhB,CACD,CAFD,IAGI,CACF,GAAIkB,aAAY,CAAGnB,KAAK,CAACkB,cAAN,CAAqBE,WAArB,EAAnB,CACAH,eAAe,CAAGhB,SAAS,CAACoB,MAAV,CAAiB,SAACC,EAAD,CAAQ,CACzC,GACEA,EAAE,CAACD,MAAH,CAAUE,QAAV,GAAqBH,WAArB,GAAmCI,QAAnC,CAA4CL,YAA5C,GACAG,EAAE,CAACG,KAAH,CAASF,QAAT,GAAoBH,WAApB,GAAkCI,QAAlC,CAA2CL,YAA3C,CADA,EAEAG,EAAE,CAACI,KAAH,CAASH,QAAT,GAAoBH,WAApB,GAAkCI,QAAlC,CAA2CL,YAA3C,CAFA,EAGAG,EAAE,CAACK,QAAH,CAAYJ,QAAZ,GAAuBH,WAAvB,GAAqCI,QAArC,CAA8CL,YAA9C,CAJF,CAMA,CACE,MAAO,KAAP,CACD,CACD,MAAO,MAAP,CACD,CAXiB,CAAlB,CAYD,CACCF,eAAe,CAAGA,eAAe,CAACI,MAAhB,CAAuB,SAACC,EAAD,CAAQ,CACjD,GACE,CAACtB,KAAK,CAAC4B,WAAN,CAAkBlB,MAAlB,EAA0B,CAA1B,EAA+BV,KAAK,CAAC4B,WAAN,CAAkBJ,QAAlB,CAA2BF,EAAE,CAACO,GAA9B,CAAhC,IACG7B,KAAK,CAAC8B,aAAN,CAAoBpB,MAApB,EAA4B,CAA5B,EAAiCV,KAAK,CAAC8B,aAAN,CAAoBN,QAApB,CAA6BF,EAAE,CAACG,KAAhC,CADpC,IAEGzB,KAAK,CAAC+B,aAAN,CAAoBrB,MAApB,EAA4B,CAA5B,EAAiCV,KAAK,CAAC+B,aAAN,CAAoBP,QAApB,CAA6BF,EAAE,CAACU,KAAhC,CAFpC,IAGGhC,KAAK,CAACiC,qBAAN,CAA4BvB,MAA5B,EAAoC,CAApC,EAAyCwB,IAAI,CAACC,GAAL,OAAAD,IAAI,oBAAQlC,KAAK,CAACiC,qBAAN,CAA4BG,GAA5B,CAAgC,SAACtB,CAAD,QAAKuB,OAAM,CAACvB,CAAD,CAAX,EAAhC,CAAR,EAAJ,EAA8DC,QAAQ,CAACO,EAAE,CAACK,QAAJ,CAHlH,IAIG3B,KAAK,CAACsC,aAAN,CAAoB5B,MAApB,EAA4B,CAA5B,EAAiCC,cAAc,CAACX,KAAK,CAACsC,aAAP,CAAqBhB,EAAE,CAACI,KAAxB,CAJlD,CADF,CAOE,CACI,MAAO,KAAP,CACH,CACF,CAXiB,CAAlB,CAYA,GAAG1B,KAAK,CAACuC,iBAAN,EAAyB,OAA5B,CACA,CACItB,eAAe,CAACuB,IAAhB,CAAqB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAChC,MAAOD,EAAC,CAACf,KAAF,CAAQgB,CAAC,CAAChB,KAAjB,CACD,CAFD,EAGH,CALD,IAMK,IAAG1B,KAAK,CAACuC,iBAAN,EAAyB,OAA5B,CACL,CACEtB,eAAe,CAACuB,IAAhB,CAAqB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAChC,MAAOA,EAAC,CAAChB,KAAF,CAAQe,CAAC,CAACf,KAAjB,CACD,CAFD,EAGD,CALI,IAMA,IAAG1B,KAAK,CAACuC,iBAAN,EAAyB,OAA5B,CACL,CACEtB,eAAe,CAACuB,IAAhB,CAAqB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAChC,MAAOA,EAAC,CAACf,QAAF,CAAWc,CAAC,CAACd,QAApB,CACD,CAFD,EAGD,CAEH,mBAEM,YAAK,SAAS,CAAC,YAAf,UAGEV,eAAe,CAACmB,GAAhB,CAAoB,SAACd,EAAD,CAAM,CAEtB,mBAEE,KAAC,IAAD,EACA,EAAE,CAAE,CAACqB,QAAQ,CAAC,UAAV,CAAqBC,KAAK,CAAC,CAAC,CAC9BvB,MAAM,CAAEC,EAAE,CAACD,MADmB,CAE9BI,KAAK,CAAEH,EAAE,CAACG,KAFoB,CAG9BC,KAAK,CAAEJ,EAAE,CAACI,KAHoB,CAI9BC,QAAQ,CAACL,EAAE,CAACK,QAJkB,CAK9BK,KAAK,CAAEV,EAAE,CAACU,KALoB,CAM9Ba,MAAM,CAACvB,EAAE,CAACuB,MANoB,CAO9BhB,GAAG,CAAEP,EAAE,CAACO,GAPsB,CAQ9BiB,MAAM,CAACxB,EAAE,CAACwB,MARoB,CAS9BC,GAAG,CAAC/C,KAAK,CAACgD,OAToB,CAAD,CAA3B,CADJ,CAYA,KAAK,CAAE,CAAEC,cAAc,CAAE,MAAlB,CAA0BjB,KAAK,CAAC,OAAhC,CAZP,uBAcE,aAAK,SAAS,CAAC,QAAf,wBACE,YAAK,GAAG,CAAEV,EAAE,CAACuB,MAAb,EADF,cAOE,aAAK,SAAS,CAAC,iBAAf,wBACI,WAAI,KAAK,CAAC,eAAV,UAA2BvB,EAAE,CAACG,KAA9B,EADJ,cAEI,WAAI,KAAK,CAAC,iBAAV,UAA6BH,EAAE,CAACD,MAAhC,EAFJ,cAGI,cAAM,KAAK,CAAC,yBAAZ,kBAA2CC,EAAE,CAACI,KAA9C,GAHJ,cAII,cAAM,KAAK,CAAC,4BAAZ,eAA2CJ,EAAE,CAACK,QAA9C,YAJJ,GAPF,GAdF,EAFF,CAgCD,CAlCH,CAHF,EAFN,CA8CD,CAjID,CAkIA,cAAe5B,cAAf"},"metadata":{},"sourceType":"module"}